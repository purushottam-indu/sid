{"version":3,"file":"index-04aaba25.js","sources":["../../../src/api/api.ts","../../../src/api/models.ts","../../../src/components/Answer/AnswerParser.tsx","../../../src/assets/Daiichi_Sankyo_junior.png","../../../src/components/Answer/AnswerIcon.tsx","../../../src/assets/NotoSansJP-Regular.ttf","../../../src/components/Answer/Answer.tsx","../../../src/components/Answer/AnswerLoading.tsx","../../../src/components/Answer/AnswerError.tsx","../../../src/assets/reset.png","../../../src/components/ClearChatButton/ClearChatButton.tsx","../../../src/components/QuestionInput/QuestionInput.tsx","../../../src/components/UserChatMessage/Atom.tsx","../../../src/components/UserChatMessage/UserChatMessage.tsx","../../../src/components/UploadDocumentButton/UploadDocument.tsx","../../../src/components/FileUpload/FileUpload.tsx","../../../src/pages/AIchat/Chat.tsx","../../../src/index.tsx"],"sourcesContent":["import { AskRequest, AskResponse, ChatRequest, Access, FileUpload } from \"./models\";\r\n\r\nexport async function askApi(options: AskRequest): Promise<AskResponse> {\r\n    const response = await fetch(\"/ask\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            question: options.question,\r\n            approach: options.approach,\r\n            overrides: {\r\n                retrieval_mode: options.overrides?.retrievalMode,\r\n                semantic_ranker: options.overrides?.semanticRanker,\r\n                semantic_captions: options.overrides?.semanticCaptions,\r\n                top: options.overrides?.top,\r\n                temperature: options.overrides?.temperature,\r\n                prompt_template: options.overrides?.promptTemplate,\r\n                prompt_template_prefix: options.overrides?.promptTemplatePrefix,\r\n                prompt_template_suffix: options.overrides?.promptTemplateSuffix,\r\n                exclude_category: options.overrides?.excludeCategory\r\n            }\r\n        })\r\n    });\r\n\r\n    const parsedResponse: AskResponse = await response.json();\r\n    if (response.status > 299 || !response.ok) {\r\n        throw Error(parsedResponse.error || \"Unknown error\");\r\n    }\r\n\r\n    return parsedResponse;\r\n}\r\n\r\nexport async function accessApi(): Promise<Access> {\r\n    const response = await fetch(\"/api/auth\", {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    });\r\n\r\n    const parsedResponse: Access = await response.json();\r\n    if (response.status > 299 || !response.ok) {\r\n        throw Error(parsedResponse.error || \"Unknown error\");\r\n    }\r\n    return parsedResponse;\r\n}\r\n\r\n// export async function logoutApi(data: string): Promise<Response> {\r\nexport async function logoutApi(): Promise<Response> {\r\n    const url = \"/api/logout\";\r\n    // const data = { message: \"This is a log message from Flask!\" };\r\n\r\n    const outputResponse = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        // body: JSON.stringify(data),\r\n        credentials: \"include\" //include cookies in the request\r\n    });\r\n    // .then(response => response.json())\r\n    // .then(result => {\r\n    //     console.log(\"Server response:\", result);\r\n    // })\r\n\r\n    return outputResponse;\r\n}\r\n\r\nexport async function chatApi(options: ChatRequest): Promise<Response> {\r\n    const url = options.shouldStream ? \"/chat_stream\" : \"/chat\";\r\n    return await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            history: options.history,\r\n            approach: options.approach,\r\n            overrides: {\r\n                retrieval_mode: options.overrides?.retrievalMode,\r\n                semantic_ranker: options.overrides?.semanticRanker,\r\n                semantic_captions: options.overrides?.semanticCaptions,\r\n                top: options.overrides?.top,\r\n                temperature: options.overrides?.temperature,\r\n                prompt_template: options.overrides?.promptTemplate,\r\n                prompt_template_prefix: options.overrides?.promptTemplatePrefix,\r\n                prompt_template_suffix: options.overrides?.promptTemplateSuffix,\r\n                exclude_category: options.overrides?.excludeCategory,\r\n                suggest_followup_questions: options.overrides?.suggestFollowupQuestions,\r\n                model_type: options.overrides?.modelType\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\nexport function getCitationFilePath(citation: string): string {\r\n    return `/content/${citation}`;\r\n}\r\n\r\nexport async function uploadApi(options: FileUpload): Promise<AskResponse> {\r\n    const formData = new FormData();\r\n\r\n    // Append each file to the formData\r\n    options.files.forEach((file, index) => {\r\n        formData.append(`file${index + 1}`, file);\r\n    });\r\n\r\n    const response = await fetch(\"/upload\", {\r\n        method: \"POST\",\r\n        body: formData\r\n    });\r\n\r\n    const parsedResponse: AskResponse = await response.json();\r\n    if (response.status > 599) {\r\n        throw Error(\"try_after_some_time\");\r\n    } else if (response.status > 499) {\r\n        throw Error(\"file_size_error\");\r\n    } else if (response.status > 399) {\r\n        throw Error(\"csv_excel_error\");\r\n    } else if (response.status > 299 || !response.ok) {\r\n        throw Error(parsedResponse.error || \"Unknown error\");\r\n    } else if (response.status > 250) {\r\n        throw Error(\"unstructured_data_already_uploaded\");\r\n    } else if (response.status > 200) {\r\n        throw Error(\"csv_excel_already_present_error\");\r\n    }\r\n    return parsedResponse;\r\n}\r\n","export const enum Approaches {\r\n    General = \"general\",\r\n    DocumentQNA = \"docqna\"\r\n}\r\n\r\nexport const enum RetrievalMode {\r\n    Hybrid = \"hybrid\",\r\n    Vectors = \"vectors\",\r\n    Text = \"text\"\r\n}\r\n\r\nexport type AskRequestOverrides = {\r\n    modelType?: string;\r\n    retrievalMode?: RetrievalMode;\r\n    semanticRanker?: boolean;\r\n    semanticCaptions?: boolean;\r\n    excludeCategory?: string;\r\n    top?: number;\r\n    temperature?: number;\r\n    promptTemplate?: string;\r\n    promptTemplatePrefix?: string;\r\n    promptTemplateSuffix?: string;\r\n    suggestFollowupQuestions?: boolean;\r\n};\r\n\r\nexport type AskRequest = {\r\n    question: string;\r\n    approach: Approaches;\r\n    overrides?: AskRequestOverrides;\r\n};\r\n\r\nexport type AskResponse = {\r\n    status: string;\r\n    answer: string;\r\n    thoughts: string | null;\r\n    data_points: string[];\r\n    error?: string;\r\n};\r\n\r\nexport type ChatTurn = {\r\n    user: string;\r\n    bot?: string;\r\n};\r\n\r\nexport type ChatRequest = {\r\n    history: ChatTurn[];\r\n    approach: Approaches;\r\n    overrides?: AskRequestOverrides;\r\n    shouldStream?: boolean;\r\n};\r\n\r\nexport type Access = {\r\n    error?: string;\r\n    hasModAccess: boolean;\r\n};\r\n\r\nexport type FileUpload = {\r\n    files: File[];    \r\n};\r\n\r\nexport type FileUploadResponse = {\r\n    status: string;\r\n    error?: string;\r\n};\r\n","import { renderToStaticMarkup } from \"react-dom/server\";\r\nimport { getCitationFilePath } from \"../../api\";\r\n\r\ntype HtmlParsedAnswer = {\r\n    answerHtml: string;\r\n    followupQuestions: string[];\r\n    codeContent: string;\r\n};\r\n\r\nexport function parseAnswerToHtml(answer: string): HtmlParsedAnswer {\r\n    const citations: string[] = [];\r\n    const followupQuestions: string[] = [];\r\n\r\n    // Extract any follow-up questions that might be in the answer\r\n    let parsedAnswer = answer.replace(/<<([^>>]+)>>/g, (match, content) => {\r\n        followupQuestions.push(content);\r\n        return \"\";\r\n    });\r\n\r\n    // trim any whitespace from the end of the answer after removing follow-up questions\r\n    parsedAnswer = parsedAnswer.trim();\r\n\r\n    const regex = /```([^`]+)```/g;\r\n    const matches = [];\r\n    let match;\r\n\r\n    while ((match = regex.exec(parsedAnswer)) !== null) {\r\n        const codeSnippet = match[1].trim();\r\n        matches.push(codeSnippet);\r\n    }\r\n\r\n    // parsedAnswer = parsedAnswer.replace(\r\n    //     regex,\r\n    //     \"<div style='background-color: black; padding: 20px;border-radius: 10px;'><code style='color: white; font-size: 16px;'>$1</code></div>\"\r\n    // );\r\n\r\n    return {\r\n        answerHtml: parsedAnswer,\r\n        followupQuestions,\r\n        codeContent: matches.join(\"\")\r\n    };\r\n}\r\n","export default \"__VITE_ASSET__47eb769b__\"","import { Sparkle28Filled } from \"@fluentui/react-icons\";\r\nimport logo from \"../../assets/Daiichi_Sankyo_junior.png\";\r\n\r\nexport const AnswerIcon = () => {\r\n    return <img src={logo} alt=\"Daiichi Sankyo logo\" max-height=\"25px\" height=\"20px\" max-width=\"20px\" width=\"20px\"/>;\r\n};\r\n","export default \"__VITE_ASSET__35b9ffd2__\"","import { useMemo } from \"react\";\r\nimport { Stack, ActionButton } from \"@fluentui/react\";\r\nimport { IIconProps, initializeIcons } from \"@fluentui/react\";\r\nimport { TooltipHost, ITooltipHostStyles } from \"@fluentui/react/lib/Tooltip\";\r\nimport { IconButton } from \"@fluentui/react/lib/Button\";\r\nimport { useId } from \"@fluentui/react-hooks\";\r\nimport DOMPurify from \"dompurify\";\r\nimport styles from \"./Answer.module.css\";\r\nimport { AskResponse } from \"../../api\";\r\nimport { parseAnswerToHtml } from \"./AnswerParser\";\r\nimport { AnswerIcon } from \"./AnswerIcon\";\r\nimport rehypeRaw from \"rehype-raw\";\r\nimport rehypeHighlight from \"rehype-highlight\";\r\nimport Markdown from \"react-markdown\";\r\nimport \"highlight.js/styles/github-dark.css\";\r\nimport { useState } from \"react\";\r\nimport { saveAs } from \"file-saver\"; // For saving files\r\nimport { Document, Packer, Paragraph, TextRun } from \"docx\";\r\nimport jsPDF from \"jspdf\";\r\nimport japaneseFontFamily from \"../../assets/NotoSansJP-Regular.ttf\";\r\n// import { Dropdown } from \"@fluentui/react\";\r\n\r\n// UserChatMessage Component\r\n\r\n// Answer Component\r\ninterface Props {\r\n    answer: AskResponse;\r\n    onFollowupQuestionClicked: (question: string) => void;\r\n    showFollowupQuestions?: boolean;\r\n    isAnswerCompleted?: boolean;\r\n    regenerateResponse?: boolean;\r\n    regenerateQuestion: string;\r\n}\r\n\r\nexport const Answer = ({ answer, onFollowupQuestionClicked, showFollowupQuestions, isAnswerCompleted, regenerateResponse, regenerateQuestion }: Props) => {\r\n    const parsedAnswer = useMemo(() => parseAnswerToHtml(answer.answer), [answer]);\r\n    const sanitizedAnswerHtml = DOMPurify.sanitize(parsedAnswer.answerHtml);\r\n\r\n    const handleExportTXT = () => {\r\n        const txtBlob = new Blob([parsedAnswer.answerHtml], { type: \"text/plain;charset=utf-8\" });\r\n        saveAs(txtBlob, \"response.txt\");\r\n    };\r\n\r\n    const handleExportPDF = async () => {\r\n        const doc = new jsPDF();\r\n        const margin = 20; // Set your desired margin value\r\n        const topMargin = margin; // Adjust this value to set the top margin\r\n        const bottomMargin = margin; // Adjust this value to set the bottom margin\r\n        let cursorY = topMargin;\r\n        let remainingText = parsedAnswer.answerHtml;\r\n        const lineHeight = 6; // Assuming a line height of 12 units (adjust as needed)\r\n        const availableHeight = doc.internal.pageSize.height - topMargin - bottomMargin;\r\n\r\n        const fontSize = 12; // Set your desired smaller font size\r\n        doc.setFontSize(fontSize);\r\n\r\n        const fontUrl = japaneseFontFamily;\r\n\r\n        // Fetch the TTF font file as an ArrayBuffer\r\n        const fontBytes = await fetch(fontUrl).then(res => res.arrayBuffer());\r\n\r\n        // Convert the ArrayBuffer to a Base64 string\r\n        const base64String = btoa(new Uint8Array(fontBytes).reduce((data, byte) => data + String.fromCharCode(byte), \"\"));\r\n\r\n        doc.addFileToVFS(\"NotoSansJP-Regular.ttf\", base64String);\r\n        doc.addFont(\"NotoSansJP-Regular.ttf\", \"NotoSansJP\", \"normal\");\r\n\r\n        doc.setFont(\"NotoSansJP\");\r\n\r\n        const addNewPage = () => {\r\n            doc.addPage();\r\n            cursorY = topMargin;\r\n        };\r\n\r\n        const lines = doc.splitTextToSize(remainingText, doc.internal.pageSize.width - 2 * margin);\r\n\r\n        lines.forEach((line: string) => {\r\n            if (cursorY + lineHeight > availableHeight) {\r\n                addNewPage();\r\n            }\r\n\r\n            doc.text(line, margin, cursorY);\r\n            cursorY += lineHeight;\r\n        });\r\n\r\n        doc.save(\"response.pdf\");\r\n    };\r\n\r\n    const preprocessHTML = (html: string): string => {\r\n        const processedHtml = html.replace(/\\n/g, \"<br>\");\r\n        return processedHtml;\r\n    };\r\n\r\n    const handleExportDOCX = async () => {\r\n        const processedHtml = preprocessHTML(parsedAnswer.answerHtml);\r\n        const tempElement = document.createElement(\"div\");\r\n        tempElement.innerHTML = processedHtml;\r\n\r\n        // Extract text content\r\n        const paragraphs = Array.from(tempElement.childNodes).map(node => {\r\n            if (node.nodeType === Node.TEXT_NODE) {\r\n                return new Paragraph({\r\n                    children: [new TextRun(node.textContent || \"\")]\r\n                });\r\n            } else if (node.nodeType === Node.ELEMENT_NODE) {\r\n                const element = node as HTMLElement;\r\n                const textRuns = Array.from(element.childNodes).map(childNode => {\r\n                    if (childNode.nodeType === Node.TEXT_NODE) {\r\n                        return new TextRun(childNode.textContent || \"\");\r\n                    } else if (childNode.nodeType === Node.ELEMENT_NODE) {\r\n                        const childElement = childNode as HTMLElement;\r\n                        return new TextRun(childElement.innerText);\r\n                    } else {\r\n                        return new TextRun(\"\");\r\n                    }\r\n                });\r\n                return new Paragraph({\r\n                    children: textRuns\r\n                });\r\n            } else {\r\n                return new Paragraph({\r\n                    children: [new TextRun(\"\")]\r\n                });\r\n            }\r\n        });\r\n\r\n        // Create document\r\n        const doc = new Document({\r\n            sections: [\r\n                {\r\n                    properties: {},\r\n                    children: paragraphs\r\n                }\r\n            ]\r\n        });\r\n\r\n        // Generate blob\r\n        const blob = await Packer.toBlob(doc);\r\n\r\n        saveAs(blob, \"response.docx\");\r\n    };\r\n\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [exportFormat, setExportFormat] = useState<string | undefined>(undefined);\r\n\r\n    const handleExportChange = (event: React.FormEvent<HTMLDivElement>, option?: { key: string }) => {\r\n        if (option) {\r\n            setExportFormat(option.key);\r\n            switch (option.key) {\r\n                case \"pdf\":\r\n                    handleExportPDF();\r\n                    break;\r\n                case \"txt\":\r\n                    handleExportTXT();\r\n                    break;\r\n                case \"docx\":\r\n                    handleExportDOCX();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    const exportOptions = [\r\n        { key: \"pdf\", text: \"PDF\" },\r\n        { key: \"txt\", text: \"TXT\" },\r\n        { key: \"docx\", text: \"DOCX\" }\r\n    ];\r\n\r\n    const pdftooltipId = useId(\"tooltip_pdf\");\r\n    const wordtooltipID = useId(\"tooltip_word\");\r\n    const texttooltipID = useId(\"tooltip_txt\");\r\n\r\n    const calloutProps = {\r\n        gapSpace: 0,\r\n        styles: {\r\n            beak: { background: \"white\" },\r\n            beakCurtain: { background: \"#c2c2d6\" },\r\n            calloutMain: { background: \"white\" }\r\n        }\r\n    };\r\n    const hostStyles: Partial<ITooltipHostStyles> = {\r\n        root: {\r\n            display: \"inline-block\"\r\n            // , background: \"rgb(255, 255, 128)\"\r\n        }\r\n    };\r\n    initializeIcons();\r\n\r\n    const wordIcon: IIconProps = { iconName: \"WordDocument\" };\r\n    const pdfIcon: IIconProps = { iconName: \"PDF\" };\r\n    const txtIcon: IIconProps = { iconName: \"TextDocument\" };\r\n\r\n    return (\r\n        <Stack className={`${styles.answerContainer}`} verticalAlign=\"space-between\">\r\n            <Stack.Item>\r\n                <Stack horizontal horizontalAlign=\"space-between\">\r\n                    <AnswerIcon />\r\n                    {!isAnswerCompleted && (\r\n                        <>\r\n                            <Stack horizontal>\r\n                                <ActionButton\r\n                                    style={{ color: \"black\" }}\r\n                                    iconProps={regenerateResponse ? { iconName: \"Refresh\" } : { iconName: \"\" }}\r\n                                    title=\"Regenerate\"\r\n                                    ariaLabel=\"Refresh\"\r\n                                    onClick={() => onFollowupQuestionClicked(regenerateQuestion)}\r\n                                    disabled={regenerateResponse ? false : true}\r\n                                ></ActionButton>\r\n                                <ActionButton\r\n                                    style={{ color: \"black\" }}\r\n                                    iconProps={{ iconName: \"Copy\" }}\r\n                                    title=\"Copy to clipboard\"\r\n                                    ariaLabel=\"Copy Code content\"\r\n                                    onClick={() => {\r\n                                        navigator.clipboard.writeText(parsedAnswer.answerHtml);\r\n                                    }}\r\n                                    disabled={isAnswerCompleted ? true : false}\r\n                                ></ActionButton>\r\n                                <ActionButton\r\n                                    style={{ color: \"black\" }}\r\n                                    iconProps={{ iconName: \"Download\" }}\r\n                                    title=\"Export\"\r\n                                    onClick={() => setShowOptions(!showOptions)}\r\n                                ></ActionButton>\r\n                                {showOptions && (\r\n                                    <Stack horizontal tokens={{ childrenGap: 10 }}>\r\n                                        <TooltipHost content=\"PDF\" id={pdftooltipId} styles={hostStyles}>\r\n                                            {/* // calloutProps={calloutProps} */}\r\n                                            <div>\r\n                                                <IconButton\r\n                                                    style={{\r\n                                                        color: \"red\"\r\n                                                    }}\r\n                                                    onClick={handleExportPDF}\r\n                                                    iconProps={pdfIcon}\r\n                                                    // title=\"PDF\"\r\n                                                ></IconButton>\r\n                                            </div>\r\n                                        </TooltipHost>\r\n                                        <TooltipHost content=\"TXT\" id={texttooltipID} styles={hostStyles}>\r\n                                            <div>\r\n                                                <IconButton\r\n                                                    style={{\r\n                                                        color: \"black\"\r\n                                                    }}\r\n                                                    onClick={handleExportTXT}\r\n                                                    iconProps={txtIcon}\r\n                                                    // title=\"TXT\"\r\n                                                ></IconButton>\r\n                                            </div>\r\n                                        </TooltipHost>\r\n                                        <TooltipHost content=\"DOCX\" id={wordtooltipID} styles={hostStyles}>\r\n                                            <div>\r\n                                                <IconButton\r\n                                                    style={{\r\n                                                        color: \"blue\"\r\n                                                    }}\r\n                                                    onClick={handleExportDOCX}\r\n                                                    iconProps={wordIcon}\r\n                                                    // title=\"DOCX\"\r\n                                                ></IconButton>\r\n                                            </div>\r\n                                        </TooltipHost>\r\n                                    </Stack>\r\n                                )}\r\n                            </Stack>\r\n                        </>\r\n                    )}\r\n                </Stack>\r\n            </Stack.Item>\r\n\r\n            <Stack.Item grow className={`${styles.answerStackItem}`}>\r\n                <Markdown rehypePlugins={[rehypeRaw as any, rehypeHighlight]}>{parsedAnswer.answerHtml}</Markdown>\r\n            </Stack.Item>\r\n\r\n            {!!parsedAnswer.followupQuestions.length && showFollowupQuestions && onFollowupQuestionClicked && (\r\n                <Stack.Item className={`${styles.answerStackItem}`}>\r\n                    <Stack horizontal wrap className={`${styles.followupQuestionsList}`} tokens={{ childrenGap: 6 }}>\r\n                        <span className={styles.followupQuestionLearnMore}>Follow-up questions:</span>\r\n                        {parsedAnswer.followupQuestions.map((x, i) => {\r\n                            return (\r\n                                <a key={i} className={styles.followupQuestion} title={x} onClick={() => onFollowupQuestionClicked(x)}>\r\n                                    {`${x}`}\r\n                                </a>\r\n                            );\r\n                        })}\r\n                    </Stack>\r\n                </Stack.Item>\r\n            )}\r\n        </Stack>\r\n    );\r\n};\r\n","import { Stack } from \"@fluentui/react\";\r\nimport { animated, useSpring } from \"@react-spring/web\";\r\n\r\nimport styles from \"./Answer.module.css\";\r\nimport { AnswerIcon } from \"./AnswerIcon\";\r\n\r\nexport const AnswerLoading = () => {\r\n    const animatedStyles = useSpring({\r\n        from: { opacity: 0 },\r\n        to: { opacity: 1 }\r\n    });\r\n\r\n    return (\r\n        <animated.div style={{ ...animatedStyles }}>\r\n            <Stack className={styles.answerContainer} verticalAlign=\"space-between\">\r\n                <AnswerIcon />\r\n                <Stack.Item grow>\r\n                    <p className={styles.answerText}>\r\n                        Generating answer\r\n                        <span className={styles.loadingdots} />\r\n                    </p>\r\n                </Stack.Item>\r\n            </Stack>\r\n        </animated.div>\r\n    );\r\n};\r\n","import { Stack, PrimaryButton } from \"@fluentui/react\";\r\nimport { ErrorCircle24Regular } from \"@fluentui/react-icons\";\r\n\r\nimport styles from \"./Answer.module.css\";\r\n\r\ninterface Props {\r\n    error: string;\r\n    onRetry: () => void;\r\n}\r\n\r\nexport const AnswerError = ({ error, onRetry }: Props) => {\r\n    return (\r\n        <Stack className={styles.answerContainer} verticalAlign=\"space-between\">\r\n            <ErrorCircle24Regular aria-hidden=\"true\" aria-label=\"Error icon\" primaryFill=\"red\" />\r\n\r\n            <Stack.Item grow>\r\n                <p className={styles.answerText}>{error}</p>\r\n            </Stack.Item>\r\n\r\n            <PrimaryButton className={styles.retryButton} onClick={onRetry} text=\"Retry\" />\r\n        </Stack>\r\n    );\r\n};\r\n","export default \"__VITE_ASSET__4a5d3e8c__\"","import styles from \"./ClearChatButton.module.css\";\r\nimport resetImage from \"../../assets/reset.png\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\ninterface Props {\r\n    className?: string;\r\n    onClick: () => void;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport const ClearChatButton = ({ className, disabled, onClick }: Props) => {\r\n    return (\r\n        <>\r\n            <Tooltip title=\"Clear Chat\" placement=\"right\">\r\n                <div className={`${styles.container} ${className ?? \"\"} ${disabled && styles.disabled}`} onClick={onClick}>\r\n                    <div style={{ marginLeft: \"15px\", marginRight: \"5px\" }}>\r\n                        <img\r\n                            src={resetImage}\r\n                            alt=\"Reset\"\r\n                            className={styles.resetIcon}\r\n                            style={{ width: \"40px\", height: \"40px\" }} // Set the size here\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </Tooltip>\r\n        </>\r\n    );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { Stack, TextField } from \"@fluentui/react\";\r\nimport { Send28Filled } from \"@fluentui/react-icons\";\r\nimport { ClearChatButton } from \"../ClearChatButton/ClearChatButton\";\r\nimport styles from \"./QuestionInput.module.css\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { selectedMessageAtom } from \"../UserChatMessage/Atom\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\n\r\ninterface Props {\r\n    onSend: (question: string) => void;\r\n    disabled: boolean;\r\n    placeholder?: string;\r\n    clearOnSend?: boolean;\r\n    clearchat: () => void;\r\n    isLoading: boolean;\r\n    lastQuestionRef: any;\r\n    fileuploadelement: any;\r\n    value: string;\r\n    isContent: boolean;\r\n    // stopAnswerGeneration: () => void;\r\n}\r\n\r\nexport const QuestionInput = ({ onSend, disabled, placeholder, clearOnSend, lastQuestionRef, clearchat, fileuploadelement }: Props) => {\r\n    const [question, setQuestion] = useState<string>(\"\");\r\n\r\n    // const [selectedMessage, setSelectedMessage] = useRecoilState(selectedMessageAtom);\r\n    \r\n    const [selectedMessage, setSelectedMessage] = useState<string>(\"\");\r\n\r\n    useEffect(() => {\r\n        if (selectedMessage) {\r\n            setQuestion(selectedMessage);\r\n        }\r\n    }, [selectedMessage]);\r\n\r\n    const sendQuestion = () => {\r\n        if (disabled || !question.trim()) {\r\n            return;\r\n        }\r\n\r\n        onSend(question);\r\n\r\n        if (clearOnSend) {\r\n            setQuestion(\"\");\r\n            setSelectedMessage(\"\"); // Clear the selected message\r\n        }\r\n    };\r\n\r\n    const resetFunction = () => {\r\n        // setisreset(true);\r\n        if (!disabled) {\r\n            clearchat();\r\n        }\r\n    };\r\n    const onEnterPress = (ev: React.KeyboardEvent<Element>) => {\r\n        if (ev.key === \"Enter\" && !ev.shiftKey) {\r\n            ev.preventDefault();\r\n            sendQuestion();\r\n        }\r\n    };\r\n\r\n    const onQuestionChange = (_ev: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\r\n        if (!newValue) {\r\n            setQuestion(\"\");\r\n        } else {\r\n            setQuestion(newValue);\r\n        }\r\n    };\r\n\r\n    const sendQuestionDisabled = disabled || !question.trim();\r\n    const resetDisabled = !lastQuestionRef.current || disabled;\r\n\r\n    return (\r\n        <Stack horizontal className={styles.questionInputContainer}>\r\n            {!disabled ? (\r\n                <Tooltip title=\"File Upload\" placement=\"left\">\r\n                    {fileuploadelement}\r\n                </Tooltip>\r\n            ) : (\r\n                <>{fileuploadelement}</>\r\n            )}\r\n            {/* {value} value + {question} question + {isContent} isContent + {valueOverload} valueOverload */}\r\n            {/* {valueOverload} */}\r\n            <TextField\r\n                className={styles.questionInputTextArea}\r\n                placeholder={placeholder}\r\n                multiline\r\n                resizable={false}\r\n                borderless\r\n                // value={contentvalue}\r\n                value={question}\r\n                onChange={onQuestionChange}\r\n                onKeyDown={onEnterPress}\r\n                disabled={disabled ? true : false}\r\n                style={{ height: \"50px\", fontSize: \"11px\" }}\r\n            />\r\n            <div className={styles.questionInputButtonsContainer}>\r\n                <div aria-label=\"Ask question button\" onClick={sendQuestion}>\r\n                    {/* {!disabled ? ( */}\r\n                    <Tooltip title=\"Submit\" placement=\"left\">\r\n                        <Send28Filled\r\n                            // primaryFill=\"rgba(115, 118, 225, 1)\"\r\n                            primaryFill=\"rgba(0, 180, 237, 0.6)\"\r\n                            className={`${sendQuestionDisabled ? styles.questionInputSendButtonDisabled : \"\"}`}\r\n                            // className={`${sendPlaceHolderDisabled ? styles.questionInputSendButtonDisabled : \"\"}`}\r\n                        />\r\n                    </Tooltip>\r\n                </div>\r\n            </div>\r\n            <div className={styles.questionInputButtonsContainer}>\r\n                {\r\n                    // !disabled ?\r\n                    <ClearChatButton\r\n                        className={`${resetDisabled ? styles.questionInputSendButtonDisabled : styles.resetIcon}`}\r\n                        // className={styles.resetIcon}\r\n                        onClick={resetFunction}\r\n                        disabled={resetDisabled}\r\n                        // disabled={!lastQuestionRef.current || disabled}\r\n                    />\r\n                    // :\r\n                    // <></>\r\n                }\r\n            </div>\r\n        </Stack>\r\n    );\r\n};\r\n","import { atom } from \"recoil\";\r\n \r\nexport const selectedMessageAtom = atom<string>({\r\n    key: \"selectedMessage\",\r\n    default: \"\"\r\n});\r\n ","// src/components/UserChatMessage.tsx\r\nimport React, { useEffect } from \"react\";\r\nimport styles from \"./UserChatMessage.module.css\";\r\nimport { Stack, ActionButton } from \"@fluentui/react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { selectedMessageAtom } from \"../UserChatMessage/Atom\";\r\n\r\ninterface UserChatMessageProps {\r\n    message: string;\r\n}\r\n\r\nexport const UserChatMessage: React.FC<UserChatMessageProps> = ({ message }) => {\r\n    const [selectedMessage, setSelectedMessage] = useRecoilState(selectedMessageAtom);\r\n\r\n    const handleButtonClick = () => {\r\n        setSelectedMessage(message);\r\n    };\r\n\r\n    return (\r\n        <Stack className={`${styles.answerContainer}`} verticalAlign=\"space-between\">\r\n            <div className={styles.container}>\r\n                <div className={styles.message}>\r\n                    <ActionButton\r\n                        style={{ color: \"black\", paddingRight: \"15px\", margin: \"auto\" }}\r\n                        iconProps={{ iconName: \"Edit\" }}\r\n                        title=\"Edit Message\"\r\n                        onClick={handleButtonClick}\r\n                    />\r\n                    <div style={{ margin: \"auto\" }}>{message}</div>\r\n                </div>\r\n            </div>\r\n        </Stack>\r\n    );\r\n};\r\n","import { IoMdAttach } from \"react-icons/io\";\r\n \r\nimport styles from \"./UploadDocumentButton.module.css\";\r\n \r\ninterface Props {\r\n    className?: string;\r\n    onClick: () => void;\r\n    disabled?: Boolean;\r\n}\r\n \r\nexport const UploadDocumentButton = ({ className, disabled, onClick }: Props) => {\r\n    return (\r\n        <div className={`${styles.container} ${className ?? \"\"}`} onClick={onClick}>\r\n            <IoMdAttach />\r\n        </div>\r\n    );\r\n};\r\n \r\n","import * as React from \"react\";\r\nimport \"./FileUpload.css\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { TextField, Divider, Backdrop, CircularProgress, Snackbar, Alert, Tooltip } from \"@mui/material\";\r\nimport { ArrowUpload24Regular, CheckmarkCircle24Filled, Dismiss24Regular, DeleteDismiss24Filled } from \"@fluentui/react-icons\";\r\nimport Dropzone from \"react-dropzone\";\r\n// import FileUploadIcon from \"@mui/icons-material/FileUpload\";\r\nimport { AiOutlineFile } from \"react-icons/ai\";\r\nimport { display } from \"html2canvas/dist/types/css/property-descriptors/display\";\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    fileNames: string[];\r\n    isEmbeddingsLoading: boolean;\r\n    embeddingsLoaded: boolean;\r\n    openAlert: boolean;\r\n    openWarning: boolean;\r\n    infoAlert: boolean;\r\n    openDocClearAlert: boolean;\r\n    handleCloseModal: () => void;\r\n    handleSubmitFile: (event: React.FormEvent) => void;\r\n    handleFileUpload: (uploadedFiles: File[]) => void;\r\n    handleAlertClose: () => void;\r\n    // handleWarningClose: () => void;\r\n    // clearEmbeddings: () => void;\r\n    deleteEmbeddings: () => void;\r\n    openSnackbar: boolean;\r\n    snackbarMessage: string;\r\n    handleSnackbarClose: () => void;\r\n    // handleinfoAlertClose: () => void;\r\n}\r\n\r\nexport default function FileUploadModal({\r\n    open,\r\n    fileNames,\r\n    isEmbeddingsLoading,\r\n    embeddingsLoaded,\r\n    openAlert,\r\n    openWarning,\r\n    infoAlert,\r\n    openDocClearAlert,\r\n    handleCloseModal,\r\n    handleSubmitFile,\r\n    handleFileUpload,\r\n    handleAlertClose,\r\n    // handleWarningClose,\r\n    // handleinfoAlertClose,\r\n    // clearEmbeddings,\r\n    deleteEmbeddings,\r\n    openSnackbar,\r\n    snackbarMessage,\r\n    handleSnackbarClose\r\n}: Props) {\r\n    // const [open, setOpen] = React.useState(false);\r\n    // const handleOpen = () => setOpen(true);\r\n    // const handleClose = () => setOpen(false);\r\n\r\n    return (\r\n        <div>\r\n            <Modal open={open} onClose={handleCloseModal} aria-labelledby=\"modal-modal-title\" aria-describedby=\"modal-modal-description\">\r\n                <Box className=\"upload-box\">\r\n                    <div className=\"flex-row-2\">\r\n                        <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\" sx={{ display: \"inline-block\", width: \"75%\" }}>\r\n                            Upload Document\r\n                        </Typography>\r\n                        <Button variant=\"text\" onClick={handleCloseModal}>\r\n                            <Dismiss24Regular />\r\n                        </Button>\r\n                    </div>\r\n                    {/* <Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\r\n                        Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\r\n                    </Typography> */}\r\n                    <form onSubmit={handleSubmitFile}>\r\n                        <Box sx={{ px: 2, m: 2 }}>\r\n                            <Dropzone onDrop={handleFileUpload}>\r\n                                {({ getRootProps, getInputProps }) => (\r\n                                    <Box\r\n                                        {...getRootProps()}\r\n                                        className=\"center-column\"\r\n                                        sx={{\r\n                                            height: 360,\r\n                                            width: \"100%\",\r\n                                            p: 2,\r\n                                            border: \"1px dashed grey\",\r\n                                            borderTop: \"4px solid #0197f6\",\r\n                                            borderRadius: \"16px\"\r\n                                        }}\r\n                                    >\r\n                                        <input {...getInputProps()} />\r\n                                        <Box>\r\n                                            {fileNames.length > 0 ? (\r\n                                                <Box sx={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                                                    <AiOutlineFile style={{ fontSize: 30, margin: \"auto\", marginTop: 30, marginBottom: 10 }} />\r\n                                                    <Typography sx={{ m: \"auto\" }}>Selected file:</Typography>\r\n                                                    <ul>\r\n                                                        {fileNames.map((name, index) => (\r\n                                                            <li key={index}>{name}</li>\r\n                                                        ))}\r\n                                                    </ul>\r\n                                                </Box>\r\n                                            ) : (\r\n                                                <Box sx={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                                                    {/* <FileUploadIcon style={{ fontSize: 30 }} /> */}\r\n                                                    <ArrowUpload24Regular style={{ fontSize: 30, margin: \"auto\", marginTop: 30, marginBottom: 10 }} />\r\n                                                    <Typography sx={{ m: \"auto\", textAlign: \"center\" }}>\r\n                                                        Drag and drop a PDF/TXT/DOCX/PPTX/CSV/XLSX file here or Click to browse\r\n                                                    </Typography>\r\n                                                    <Typography sx={{ m: \"auto\" }}>{\"[Total File Size Limit: 10MB]\"}</Typography>\r\n                                                </Box>\r\n                                            )}\r\n                                        </Box>\r\n                                    </Box>\r\n                                )}\r\n                            </Dropzone>\r\n                            {embeddingsLoaded && (\r\n                                <Box sx={{ marginTop: -4, marginLeft: 1 }}>\r\n                                    <CheckmarkCircle24Filled color=\"green\" />\r\n                                </Box>\r\n                            )}\r\n                        </Box>\r\n                        <Box sx={{ py: 4 }}>\r\n                            <Typography variant=\"h6\"></Typography>\r\n                            <Divider />\r\n                        </Box>\r\n\r\n                        <div className=\"flex-row-2\">\r\n                            <Box className=\"center-column\" sx={{ display: \"inline-block\", width: \"75%\" }}>\r\n                                <Button variant=\"contained\" type=\"submit\" sx={{ width: 200 }}>\r\n                                    Submit\r\n                                </Button>\r\n                            </Box>\r\n                            <Box sx={{ display: \"inline-block\" }} onClick={deleteEmbeddings}>\r\n                                <Tooltip title=\"Delete File\" placement=\"top\">\r\n                                    <Button>\r\n                                        <DeleteDismiss24Filled color=\"red\" />\r\n                                    </Button>\r\n                                </Tooltip>\r\n                            </Box>\r\n                        </div>\r\n                    </form>\r\n                    <Backdrop sx={{ color: \"#fff\", zIndex: theme => theme.zIndex.drawer + 4 }} open={isEmbeddingsLoading}>\r\n                        <CircularProgress color=\"inherit\" />\r\n                    </Backdrop>\r\n                </Box>\r\n            </Modal>\r\n            <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleAlertClose}>\r\n                <Alert onClose={handleAlertClose} severity=\"success\" sx={{ width: \"100%\" }}>\r\n                    File uploaded successfully !\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={openWarning} autoHideDuration={6000} onClose={handleAlertClose} anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}>\r\n                <Alert onClose={handleAlertClose} severity=\"warning\" sx={{ width: \"100%\" }}>\r\n                    File with maximum size of 10MB is allowed !\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar\r\n                open={openSnackbar} // State controlling whether the Snackbar is open\r\n                autoHideDuration={4500}\r\n                onClose={handleSnackbarClose} // Function to handle closing the Snackbar\r\n                anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\r\n            >\r\n                <Alert onClose={handleSnackbarClose} severity=\"error\" sx={{ width: \"100%\" }}>\r\n                    {snackbarMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={openDocClearAlert} autoHideDuration={12000} onClose={handleAlertClose} anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}>\r\n                <Alert onClose={handleAlertClose} severity=\"info\" sx={{ width: \"100%\" }}>\r\n                    *The responses are not being fetched from the document.\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={infoAlert} autoHideDuration={6000} onClose={handleAlertClose} anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}>\r\n                <Alert onClose={handleAlertClose} severity=\"info\" sx={{ width: \"100%\" }}>\r\n                    File with size above 5MB takes more time to process, Please be patient !\r\n                </Alert>\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}\r\n","import { useRef, useState, useEffect } from \"react\";\r\nimport { useBoolean } from \"@fluentui/react-hooks\";\r\nimport { DefaultButton, Text } from \"@fluentui/react\";\r\nimport readNDJSONStream from \"ndjson-readablestream\";\r\nimport styles from \"./Chat.module.css\";\r\nimport { chatApi, Approaches, AskResponse, ChatRequest, ChatTurn } from \"../../api\";\r\nimport { Answer, AnswerError, AnswerLoading } from \"../../components/Answer\";\r\nimport { QuestionInput } from \"../../components/QuestionInput\";\r\nimport { UserChatMessage } from \"../../components/UserChatMessage\";\r\nimport { AnalysisPanelTabs } from \"../../components/AnalysisPanel\";\r\nimport { IDropdownOption } from \"@fluentui/react/lib/Dropdown\";\r\nimport { Access } from \"../../api\";\r\nimport { accessApi } from \"../../api\";\r\nimport { UploadDocumentButton } from \"../../components/UploadDocumentButton/UploadDocument\";\r\nimport FileUploadModal from \"../../components/FileUpload/FileUpload\";\r\nimport { FileUpload, uploadApi } from \"../../api\";\r\nimport { Snackbar, Alert, AlertTitle } from \"@mui/material\";\r\nimport \"../../components/Navbar/navbar.css\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { selectedMessageAtom } from \"../../components/UserChatMessage/Atom\";\r\nimport { FaStop } from \"react-icons/fa6\";\r\nimport { useTheme } from \"../../ThemeContext\";\r\n\r\ninterface ChatProps {\r\n    isSideBarOpen: boolean;\r\n    promptTemplate: string;\r\n    setPromptTemplate: (promptTemplate: string) => void;\r\n}\r\n\r\nconst Chat = ({ isSideBarOpen, promptTemplate, setPromptTemplate }: ChatProps) => {\r\n    // console.log(\"inChat \", isSideBarOpen);\r\n    const [isConfigPanelOpen, setIsConfigPanelOpen] = useState(false);\r\n    // const [promptTemplate, setPromptTemplate] = useState<string>(\"\");\r\n    const [shouldStream, setShouldStream] = useState<boolean>(true);\r\n    const [isScreenSmall, setIsScreenSmall] = useState<boolean>(window.innerWidth < 769);\r\n    const [useSuggestFollowupQuestions, setUseSuggestFollowupQuestions] = useState<boolean>(false);\r\n    const lastQuestionRef = useRef<string>(\"\");\r\n    const chatMessageStreamEnd = useRef<HTMLDivElement | null>(null);\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const [isAnswerCompleted, setAnswerCompletion] = useState<boolean>(false);\r\n    const [error, setError] = useState<unknown>();\r\n    const [isOpen, { setTrue: openHelpWindow, setFalse: dismissHelpWindow }] = useBoolean(false);\r\n    const [activeCitation, setActiveCitation] = useState<string>();\r\n    const [activeAnalysisPanelTab, setActiveAnalysisPanelTab] = useState<AnalysisPanelTabs | undefined>(undefined);\r\n\r\n    const modelApproach = useRef<string>(\"GPT3.5\");\r\n    const [modelApproachState, setModelApproachState] = useState<string>(\"GPT3.5\");\r\n\r\n    const [selectedAnswer, setSelectedAnswer] = useState<number>(0);\r\n    const [answers, setAnswers] = useState<[user: string, response: AskResponse][]>([]);\r\n    const [sliderValue, setSliderValue] = useState(5);\r\n    const promptHasChanged = useRef<boolean>(false);\r\n    const sliderAriaValueText = (value: number) => `${value / 10}`;\r\n    const sliderValueFormat = (value: number) => `${value / 10}`;\r\n    const [fileUploadPanelOpen, setFileUploadPanelOpen] = useState(false);\r\n    const [fileNames, setFileNames] = useState<string[]>([]);\r\n    const [files, setFiles] = useState<File[]>([]);\r\n    const [isEmbeddingsLoading, setIsEmbeddingsLoading] = useState(false);\r\n    const [embeddingsLoaded, setEmbeddingsLoaded] = useState(false);\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [selectedModel, setSelectedModel] = useState<IDropdownOption | undefined>({ key: \"GPT3.5\", text: \"GPT 3.5\" });\r\n    const [openDocClearAlert, setOpenDocClearAlert] = useState(false);\r\n    const [openDocClearAlertforchat, setOpenDocClearAlertforchat] = useState(false);\r\n    const [openWarning, setWarning] = useState(false);\r\n    const [stopGenerating, setStopGenerating] = useState(false);\r\n    // const { isDarkTheme, toggleTheme } = useTheme();\r\n    const isDarkTheme = useState(true);\r\n    const [uploaded_files, setuploaded_files] = useState<string[]>([]);\r\n    const [openGuidlinesAlert, setOpenGuidlinesAlert] = useState(false);\r\n\r\n    const onChangeModel = (event: React.FormEvent<HTMLDivElement>, item: IDropdownOption | undefined): void => {\r\n        setSelectedModel(item);\r\n    };\r\n\r\n    const sliderOnChange = (value: number) => setSliderValue(value);\r\n\r\n    const getStyles = () => ({\r\n        main: [\r\n            {\r\n                selectors: {\r\n                    [\"@media (min-width: 720px)\"]: {\r\n                        maxHeight: \"90%\",\r\n                        minWidth: \"800px\",\r\n                        maxWidth: \"900px\"\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    });\r\n\r\n    const openFileUploadPanel = () => {\r\n        if (!isAnswerCompleted) setFileUploadPanelOpen(true);\r\n    };\r\n    const closeFileUploadPanel = () => {\r\n        setFileUploadPanelOpen(false);\r\n    };\r\n\r\n    const handleSubmitFile = async (event: React.FormEvent) => {\r\n        event.preventDefault();\r\n        setIsEmbeddingsLoading(true);\r\n\r\n        // const prevFileNamesCopy = [...fileNames];\r\n        // console.log(\"prevFileNamesCopy: \", prevFileNamesCopy);\r\n\r\n        try {\r\n            if (files.length > 0) {\r\n                const request: FileUpload = {\r\n                    files: files\r\n                };\r\n\r\n                const response = await uploadApi(request);\r\n\r\n                // console.log(\"API Response:\", response);\r\n\r\n                if (response.status === \"success\") {\r\n                    setOpenAlert(true);\r\n                    setEmbeddingsLoaded(true);\r\n                    setFileNames([]);\r\n                    // Assuming files is an array of File objects\r\n                    const uploadedFileNames = files.map(file => file.name);\r\n\r\n                    // Append the uploaded file names to the fileNames state\r\n                    setuploaded_files(prevFileNames => [...prevFileNames, ...uploadedFileNames]);\r\n                }\r\n            }\r\n        } catch (error: unknown) {\r\n            console.error(\"Error uploading files:\", error);\r\n            setFileNames([]);\r\n            // Set state to show Snackbar with error message\r\n            if (error instanceof Error) {\r\n                if (error.message === \"try_after_some_time\") {\r\n                    console.error(\"if try_after_some_time\");\r\n                    setSnackbarMessage(\"Please Try after some time\");\r\n                    setOpenSnackbar(true);\r\n                    // setFileNames(prevFileNamesCopy);\r\n                } else if (error.message === \"file_size_error\") {\r\n                    console.error(\"if file_size_error\");\r\n                    setSnackbarMessage(\"Upload small size files, or try with few number of files\");\r\n                    setOpenSnackbar(true);\r\n                    // setFileNames(prevFileNamesCopy);\r\n                } else if (error.message === \"csv_excel_error\") {\r\n                    console.error(\"if csv_excel:\", error);\r\n                    setSnackbarMessage(\"Upload Single Excel or CSV File, Cannot be uploaded with multiple files.\");\r\n                    setOpenSnackbar(true);\r\n                    // setFileNames(prevFileNamesCopy);\r\n                } else if (error.message === \"csv_excel_already_present_error\") {\r\n                    console.error(\"if csv_excel_already_present:\", error);\r\n                    setSnackbarMessage(\"CSV/Excel already uploaded, Clear it and try uploading\");\r\n                    setOpenSnackbar(true);\r\n                    // setFileNames(prevFileNamesCopy);\r\n                } else if (error.message === \"unstructured_data_already_uploaded\") {\r\n                    console.error(\"if unstructured_data_already_uploaded:\", error);\r\n                    setSnackbarMessage(\"Delete the previously uploaded files before uploading CSV/Excel, and try uploading\");\r\n                    setOpenSnackbar(true);\r\n                    // setFileNames(prevFileNamesCopy);\r\n                } else {\r\n                    console.error(\"else:\", error);\r\n                    setSnackbarMessage(\"Please Try after some time\");\r\n                    setOpenSnackbar(true); // Assuming you have setOpenSnackbar to control the visibility\r\n                    // alert(\"Error uploading files. Please check the console for details.\");\r\n                    // setFileNames(prevFileNamesCopy);\r\n                }\r\n            }\r\n\r\n            // console.log(\"catch error\");\r\n        } finally {\r\n            setIsEmbeddingsLoading(false);\r\n        }\r\n    };\r\n\r\n    const [infoAlert, setInfoAlert] = useState(false);\r\n\r\n    const handleAlertClose = () => {\r\n        setOpenAlert(false);\r\n        setWarning(false);\r\n        setInfoAlert(false);\r\n        setOpenDocClearAlert(false);\r\n        setOpenDocClearAlertforchat(false);\r\n        setOpenGuidlinesAlert(false);\r\n    };\r\n\r\n    //Fileupload\r\n    const fileuploadelement = () => {\r\n        return (\r\n            <div className={styles.upload} style={{ fontSize: \"30px\", marginLeft: \"4px\" }}>\r\n                <UploadDocumentButton className={!isAnswerCompleted ? styles.commandButton : styles.commandButtonDisabled} onClick={openFileUploadPanel} />\r\n                <FileUploadModal\r\n                    open={fileUploadPanelOpen}\r\n                    embeddingsLoaded={embeddingsLoaded}\r\n                    isEmbeddingsLoading={isEmbeddingsLoading}\r\n                    fileNames={fileNames}\r\n                    openAlert={openAlert}\r\n                    openWarning={openWarning}\r\n                    infoAlert={infoAlert}\r\n                    openDocClearAlert={openDocClearAlert}\r\n                    handleCloseModal={closeFileUploadPanel}\r\n                    handleFileUpload={handleFileUpload}\r\n                    handleSubmitFile={handleSubmitFile}\r\n                    handleAlertClose={handleAlertClose}\r\n                    deleteEmbeddings={deleteEmbeddings}\r\n                    openSnackbar={openSnackbar}\r\n                    snackbarMessage={snackbarMessage}\r\n                    handleSnackbarClose={handleSnackbarClose}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const handleFileUpload = (uploadedFiles: File[]) => {\r\n        //initialize\r\n        setFiles([]);\r\n        setFileNames([]);\r\n        // setEmbeddingsLoaded(false);\r\n\r\n        const allowedExtensions = /(\\.pdf|\\.txt|\\.pptx|\\.docx|\\.csv|\\.xlsx)$/i;\r\n\r\n        uploadedFiles.forEach(file => {\r\n            if (!allowedExtensions.exec(file.name)) {\r\n                alert(\"Please upload PDF/TXT/DOCX/PPTX/CSV/XLSX files only\");\r\n                return;\r\n            }\r\n\r\n            if (file.size > 10 * 1000 * 1024) {\r\n                setWarning(true);\r\n                return;\r\n            }\r\n\r\n            if (file.size > 5 * 1000 * 1024) {\r\n                setInfoAlert(true);\r\n            }\r\n\r\n            setFiles(prevFiles => [...prevFiles, file]);\r\n            setFileNames(prevFileNames => [...prevFileNames, file.name]);\r\n        });\r\n    };\r\n\r\n    //Prompt\r\n    const closeConfigPanel = () => {\r\n        setIsConfigPanelOpen(false);\r\n        if (promptHasChanged.current == true) {\r\n            clearChat();\r\n            promptHasChanged.current = false;\r\n        }\r\n    };\r\n\r\n    const clearPrompt = () => {\r\n        setPromptTemplate(\"\");\r\n        clearChat();\r\n    };\r\n\r\n    const deleteEmbeddings = () => {\r\n        embeddingInit();\r\n        setOpenDocClearAlert(true);\r\n        clearEmbeddings();\r\n    };\r\n    const deleteEmbeddingsforchat = () => {\r\n        embeddingInit();\r\n        setOpenDocClearAlertforchat(true);\r\n        clearEmbeddings();\r\n        setOpenGuidlinesAlert(false);\r\n    };\r\n\r\n    const embeddingInit = () => {\r\n        setFiles([]);\r\n        setFileNames([]);\r\n        setEmbeddingsLoaded(false);\r\n    };\r\n    const clearEmbeddings = () => {\r\n        // Call the API to delete the folder on the backend\r\n        setuploaded_files([]);\r\n        fetch(\"/delete-folder\", {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n                // Include any other headers your backend requires, such as authentication tokens\r\n            }\r\n            // If you need to send data along with the delete request, include it here.\r\n            // body: JSON.stringify({ folderName: 'folder_to_delete' }),\r\n        })\r\n            .then(response => {\r\n                // Check if the response status code is not in the range 200-299\r\n                if (!response.ok) {\r\n                    return response.text().then(text => {\r\n                        throw new Error(text || \"Server responded with an error!\");\r\n                    });\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                console.log(\"Folder deleted successfully:\", data);\r\n                // Clear state only after the folder has been successfully deleted\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error deleting the folder:\", error.message);\r\n                // Handle the error state here if needed\r\n            });\r\n\r\n        // Open the alert to notify the user\r\n    };\r\n\r\n    async function stopGeneratingAnswer() {\r\n        setStopGenerating(true);\r\n        console.log(\"stopping answer generation\");\r\n    }\r\n\r\n    let stop = false;\r\n\r\n    //API CALL\r\n    const makeApiRequest = async (question: string) => {\r\n        lastQuestionRef.current = question;\r\n\r\n        error && setError(undefined);\r\n        setIsLoading(true);\r\n        setActiveCitation(undefined);\r\n        setActiveAnalysisPanelTab(undefined);\r\n\r\n        try {\r\n            const history: ChatTurn[] = answers.map(a => ({ user: a[0], bot: a[1].answer }));\r\n            const request: ChatRequest = {\r\n                history: [...history, { user: question, bot: undefined }],\r\n                approach: embeddingsLoaded ? Approaches.DocumentQNA : Approaches.General,\r\n                shouldStream: shouldStream,\r\n                overrides: {\r\n                    modelType: modelApproach.current,\r\n                    promptTemplate: promptTemplate.length === 0 ? undefined : promptTemplate,\r\n                    suggestFollowupQuestions: useSuggestFollowupQuestions,\r\n                    temperature: sliderValue / 10\r\n                }\r\n            };\r\n\r\n            console.log(request + \" as request \");\r\n\r\n            setAnswerCompletion(true);\r\n\r\n            const response = await chatApi(request);\r\n\r\n            if (!response.body) {\r\n                throw Error(\"No response body\");\r\n            }\r\n            if (shouldStream) {\r\n                let answer: string = \"\";\r\n                // let isAnswerCompleted: boolean = false;\r\n                let askResponse: AskResponse = {} as AskResponse;\r\n\r\n                for await (const event of readNDJSONStream(response.body)) {\r\n                    // console.log(\"inside loop: \", document.getElementById(\"stop\")?.innerText)\r\n                    if (document.getElementById(\"stop\")?.title == \"Continue\") {\r\n                        // if (document.getElementById(\"stop\")?.innerHTML == \"Continue\") {\r\n                        setStopGenerating(false);\r\n                        break;\r\n                    }\r\n                    if (event[\"data_points\"]) {\r\n                        askResponse = event;\r\n                    } else if (event[\"choices\"] && event[\"choices\"][0][\"delta\"][\"content\"]) {\r\n                        answer += event[\"choices\"][0][\"delta\"][\"content\"];\r\n                        let latestResponse: AskResponse = { ...askResponse, answer: answer };\r\n                        setIsLoading(false);\r\n                        setAnswers([...answers, [question, latestResponse]]);\r\n                        // console.log(\"answer\", answer);\r\n                    } else if (event[\"error\"]) {\r\n                        alert(event[\"error\"]);\r\n                    }\r\n                    // console.log(\"event\", JSON.stringify(event));\r\n                }\r\n                setAnswerCompletion(false);\r\n                setContentValue(\"\");\r\n                setContent(false);\r\n            } else {\r\n                const parsedResponse: AskResponse = await response.json();\r\n\r\n                if (response.status > 299 || !response.ok) {\r\n                    throw Error(parsedResponse.error || \"Unknown error\");\r\n                }\r\n                setAnswers([...answers, [question, parsedResponse]]);\r\n            }\r\n        } catch (e) {\r\n            setError(e);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    //Clear Chat\r\n    const clearChat = () => {\r\n        lastQuestionRef.current = \"\";\r\n        error && setError(undefined);\r\n        setActiveCitation(undefined);\r\n        setActiveAnalysisPanelTab(undefined);\r\n        setAnswers([]);\r\n    };\r\n\r\n    useEffect(() => chatMessageStreamEnd.current?.scrollIntoView({ behavior: \"smooth\" }), [isLoading]);\r\n\r\n    const onUseSuggestFollowupQuestionsChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\r\n        setUseSuggestFollowupQuestions(!!checked);\r\n    };\r\n\r\n    const onToggleTab = (tab: AnalysisPanelTabs, index: number) => {\r\n        if (activeAnalysisPanelTab === tab && selectedAnswer === index) {\r\n            setActiveAnalysisPanelTab(undefined);\r\n        } else {\r\n            setActiveAnalysisPanelTab(tab);\r\n        }\r\n\r\n        setSelectedAnswer(index);\r\n    };\r\n\r\n    //snackbar for error message\r\n    const [openSnackbar, setOpenSnackbar] = useState(false);\r\n    const [snackbarMessage, setSnackbarMessage] = useState(\"\");\r\n\r\n    const handleSnackbarClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n        setOpenSnackbar(false);\r\n    };\r\n    //check for permitted users, Access :\r\n    const [hasAccess, setHasAccess] = useState<Access>({ hasModAccess: false });\r\n\r\n    const makeAccessApiRequest = async () => {\r\n        try {\r\n            const response = await accessApi();\r\n            console.log(response);\r\n            setHasAccess(response);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // This function will be called only once during the initial render\r\n\r\n        try {\r\n            embeddingInit();\r\n            clearEmbeddings();\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n        makeAccessApiRequest();\r\n\r\n        // Cleanup function (optional)\r\n        return () => {\r\n            console.log(hasAccess);\r\n        };\r\n    }, []);\r\n\r\n    const handleModelApproachChange = (_ev?: React.MouseEvent<HTMLElement>, newAlignment?: string) => {\r\n        setModelApproachState(newAlignment || \"GPT3.5\");\r\n        modelApproach.current = newAlignment || \"GPT3.5\";\r\n        console.log(newAlignment);\r\n        clearChat();\r\n    };\r\n\r\n    const handleClick = () => {\r\n        // Open another link\r\n        window.open(\r\n            // \"https://sankyopharma.sharepoint.com/sites/DSTeam_CoE_AIML/Shared%20Documents/Forms/AllItems.aspx?isAscending=true&OR=Teams%2DHL&CT=1710835373668&clickparams=eyJBcHBOYW1lIjoiVGVhbXMtRGVza3RvcCIsIkFwcFZlcnNpb24iOiIyNy8yNDAyMDExOTMwNyIsIkhhc0ZlZGVyYXRlZFVzZXIiOmZhbHNlfQ%3D%3D&sortField=LinkFilename&id=%2Fsites%2FDSTeam%5FCoE%5FAIML%2FShared%20Documents%2FGeneral%2FOpen%20AI%20Enablement%2F00%20Documents%20Approved%20by%20Legal%2C%20Compliance%2C%20Comms%2FChatDSI%20Usage%20Guidelines%5F3%2D26%2D24%2Epdf&viewid=b54b96d0%2Dd392%2D4730%2Db9a0%2D5ead22297885&parent=%2Fsites%2FDSTeam%5FCoE%5FAIML%2FShared%20Documents%2FGeneral%2FOpen%20AI%20Enablement%2F00%20Documents%20Approved%20by%20Legal%2C%20Compliance%2C%20Comms\",\r\n            // \"_blank\"\r\n            \"https://sankyopharma.sharepoint.com/:b:/s/DSTeam_CoE_AIML/ETF4r68T6mtFvor7wgAhrLQBHh-g4dzaSzVvZNef3J4Uug?e=h6eeNO\",\r\n            \"_blank\"\r\n        );\r\n    };\r\n\r\n    // Creativity button\r\n    const [selectedButton, setSelectedButton] = useState(\"More Balanced\");\r\n    const handleButtonClick = (buttonName: string) => {\r\n        setSelectedButton(buttonName);\r\n        // Set slider value based on button clicked\r\n        switch (buttonName) {\r\n            case \"More Creative\":\r\n                setSliderValue(10);\r\n                break;\r\n            case \"More Balanced\":\r\n                setSliderValue(5);\r\n                break;\r\n            case \"More Precise\":\r\n                setSliderValue(1);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    // const [isNavbarExpanded, setIsNavbarExpanded] = useState(false);\r\n    // const [, setSelectedMessage] = useRecoilState(selectedMessageAtom);\r\n    const [, setSelectedMessage] = useState<string>(\"\");\r\n    const [contentValue, setContentValue] = useState<string>(\"\");\r\n    const [isContent, setContent] = useState<boolean>(false);\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setIsScreenSmall(window.innerWidth < 769);\r\n        };\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", handleResize);\r\n        };\r\n    }, []);\r\n\r\n    if (isSideBarOpen && isScreenSmall) {\r\n        return null; // or you can return <div></div> or any placeholder content\r\n    }\r\n    return (\r\n        <div className={` ${isSideBarOpen ? styles.shrunk : styles.container}`}>\r\n            {\" \"}\r\n            <div className={styles.chatRoot}>\r\n                <div className={styles.chatContainer}>\r\n                    {!lastQuestionRef.current ? (\r\n                        <div className={styles.chatEmptyState}>\r\n                            <p className={styles.disclaimerText} style={{ filter: isDarkTheme ? \"brightness(20)\" : \"brightness(1)\" }}>\r\n                                *ChatDSI is designed to engage in natural language conversations, answer questions, and assist with various tasks but currently\r\n                                cannot access DSI repositories to obtain internally stored information. Since it is an AI-powered assistant, output should\r\n                                always be validated by a human prior to use. Please follow the{\" \"}\r\n                                <span onClick={handleClick} style={{ textDecoration: \"underline\", cursor: \"pointer\" }}>\r\n                                    ChatDSI Usage Guidelines\r\n                                </span>{\" \"}\r\n                                at all times.\r\n                            </p>\r\n                            {/* <Query /> */}\r\n                            <div className={styles.boxesContainerquerySuggestion}>\r\n                                <div\r\n                                    className={styles.boxquerySuggestion}\r\n                                    onClick={() => setSelectedMessage(\"Show me an example of R code to run a Kaplan-Meier plot using a survival package.\")}\r\n                                >\r\n                                    <p className={styles.querytitle}>Coding</p>\r\n                                    Show me an example of R code to run a Kaplan-Meier plot using a survival package.\r\n                                </div>\r\n                                <div\r\n                                    className={styles.hideboxquerySuggestion}\r\n                                    onClick={() =>\r\n                                        setSelectedMessage(\"Provide an easy-to-read summary of the following article that is no more than 750 words: \")\r\n                                    }\r\n                                >\r\n                                    <p className={styles.querytitle}>Summarization</p>\r\n                                    Provide an easy-to-read summary of the following article that is no more than 750 words: \r\n                                </div>\r\n                                <div\r\n                                    className={styles.boxquerySuggestion}\r\n                                    onClick={() =>\r\n                                        setSelectedMessage(\r\n                                            \"Please refine the conclusion of my research paper on the impact of artificial intelligence in drug discovery to make it clearer and emphasize the following findings:\"\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    <p className={styles.querytitle}>Writing Assistance</p>\r\n                                    Please refine the conclusion of my research paper on the impact of artificial intelligence in drug discovery to make it\r\n                                    clearer and emphasize the following findings: \r\n                                </div>\r\n                                <div\r\n                                    className={styles.boxquerySuggestion}\r\n                                    onClick={() =>\r\n                                        setSelectedMessage(\r\n                                            \"Explore the possibility of predicting individual health outcomes based on various factors (genetics, lifestyle, medical history). Develop a predictive model that tailors recommendations for personalized healthcare interventions.\"\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    <p className={styles.querytitle}>Summarization</p>\r\n                                    Explore the possibility of predicting individual health outcomes based on various factors (genetics, lifestyle, medical\r\n                                    history). Develop a predictive model that tailors recommendations for personalized healthcare interventions.\r\n                                </div>\r\n                                <div\r\n                                    className={styles.hideboxquerySuggestion}\r\n                                    onClick={() => setSelectedMessage(\"In Excel (Office 365), how do I remove duplicate entries from a column of data? \")}\r\n                                >\r\n                                    <p className={styles.querytitle}>Tutoring</p>\r\n                                    In Excel (Office 365), how do I remove duplicate entries from a column of data?\r\n                                </div>\r\n                                <div\r\n                                    className={styles.hideboxquerySuggestion}\r\n                                    onClick={() => setSelectedMessage(\"Create a job description for a Data Analyst to work in [open role] at Daiichi Sankyo.\")}\r\n                                >\r\n                                    <p className={styles.querytitle}>Creation</p>\r\n                                    \"Create a job description for a Data Analyst to work in [open role] at Daiichi Sankyo.\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.cylindricalBar}>\r\n                                <div className={styles.responseStyle}>Select Response Style</div>\r\n                                <div className={styles.buttonContainer}>\r\n                                    <DefaultButton\r\n                                        className={`${styles.temperatureButton} ${selectedButton === \"More Creative\" ? styles.clicked : \"\"}`}\r\n                                        onClick={() => handleButtonClick(\"More Creative\")}\r\n                                    >\r\n                                        More Creative\r\n                                    </DefaultButton>\r\n                                    <DefaultButton\r\n                                        className={`${styles.temperatureButton} ${selectedButton === \"More Balanced\" ? styles.clicked : \"\"}`}\r\n                                        onClick={() => handleButtonClick(\"More Balanced\")}\r\n                                    >\r\n                                        More Balanced\r\n                                    </DefaultButton>\r\n                                    <DefaultButton\r\n                                        className={`${styles.temperatureButton} ${selectedButton === \"More Precise\" ? styles.clicked : \"\"}`}\r\n                                        onClick={() => handleButtonClick(\"More Precise\")}\r\n                                    >\r\n                                        More Precise\r\n                                    </DefaultButton>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className={styles.chatMessageStream}>\r\n                            {answers.map((answer, index) => (\r\n                                <div key={index}>\r\n                                    <UserChatMessage message={answer[0]} />\r\n                                    {/* {answers.length} and {index + 1} and {answer[0]} and {lastQuestionRef.current} */}\r\n                                    <div className={styles.chatMessageGpt}>\r\n                                        <Answer\r\n                                            key={index}\r\n                                            answer={answer[1]}\r\n                                            onFollowupQuestionClicked={q => makeApiRequest(q)}\r\n                                            showFollowupQuestions={useSuggestFollowupQuestions && answers.length - 1 === index}\r\n                                            isAnswerCompleted={isAnswerCompleted && answers.length === index + 1 && answer[0] === lastQuestionRef.current}\r\n                                            regenerateResponse={answers.length === index + 1 && answer[0] === lastQuestionRef.current}\r\n                                            regenerateQuestion={answer[0]}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n\r\n                            {isLoading && (\r\n                                <>\r\n                                    <UserChatMessage message={lastQuestionRef.current} />\r\n                                    <div className={styles.chatMessageGptMinWidth}>\r\n                                        <AnswerLoading />\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                            {error ? (\r\n                                <>\r\n                                    <UserChatMessage message={lastQuestionRef.current} />\r\n                                    <div className={styles.chatMessageGptMinWidth}>\r\n                                        <AnswerError error={error.toString()} onRetry={() => makeApiRequest(lastQuestionRef.current)} />\r\n                                    </div>\r\n                                </>\r\n                            ) : null}\r\n                            <div ref={chatMessageStreamEnd} />\r\n                        </div>\r\n                    )}\r\n                    {/* Chat Input */}\r\n                    <div className={styles.chatInput}>\r\n                        {/* Stop Generate  */}\r\n                        <div>\r\n                            {isAnswerCompleted && !isLoading && (\r\n                                <button\r\n                                    className={styles.stopButtonContent}\r\n\r\n\r\n\r\n\r\n\r\n                                    onClick={() => {\r\n                                        stopGeneratingAnswer();\r\n                                    }}\r\n                                >\r\n                                    <div id=\"stop\" className={styles.stopButton} title={`${stopGenerating ? \"Continue\" : \"Stop Generate Response\"}`}>\r\n                                        <FaStop style={{ fontSize: \"11px\" }} />\r\n                                        {/* {\" \"} */}\r\n                                    </div>\r\n                                    <div className={styles.stopText1} style={{ color: isDarkTheme ? \"white\" : \"black\" }}>\r\n                                        Stop Responding\r\n                                    </div>\r\n                                </button>\r\n                            )}\r\n                            {/* QuestionInput/ Input Bar / Chat Input*/}\r\n                            <QuestionInput\r\n                                fileuploadelement={fileuploadelement()}\r\n                                clearchat={clearChat}\r\n                                isLoading={isLoading}\r\n                                lastQuestionRef={lastQuestionRef}\r\n                                clearOnSend\r\n                                disabled={isAnswerCompleted}\r\n                                onSend={question => makeApiRequest(question)}\r\n                                placeholder=\"Ask me a question...\"\r\n                                value={isContent ? contentValue : \"\"}\r\n                                isContent={isContent}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.chatInput}>\r\n                        {embeddingsLoaded == false ? (\r\n                            <>\r\n                                <Text className={styles.customPromptMessageResponse} style={{ color: isDarkTheme ? \"white\" : \"black\" }}>\r\n                                    {\r\n                                        // isLoading &&\r\n                                        isAnswerCompleted && (\r\n                                            <>\r\n                                                {\" \"}\r\n                                                The response is being generated <span className={styles.loadingdots} />{\" \"}\r\n                                            </>\r\n                                        )\r\n                                    }\r\n                                </Text>\r\n                            </>\r\n                        ) : (\r\n                            // disclaimer Message for file upload\r\n                            <div className={styles.customPromptMessage}>\r\n                                <Text\r\n                                    className={styles.customPromptMessage}\r\n                                    style={{ color: isDarkTheme ? \"white\" : \"black\", marginBottom: promptTemplate == \"\" ? \"0\" : \"-5px\", fontSize: \"11px\" }}\r\n                                >\r\n                                    {uploaded_files[0].endsWith(\".xlsx\") ? (\r\n                                        <>\r\n                                            {`The responses are being fetched from the document ${uploaded_files[0]}.`}\r\n                                            <span onClick={() => setOpenGuidlinesAlert(!openGuidlinesAlert)} className={styles.guidelines}>\r\n                                                Guidelines...\r\n                                            </span>\r\n                                            <Snackbar\r\n                                                open={openGuidlinesAlert}\r\n                                                // autoHideDuration={12000}\r\n                                                onClose={handleAlertClose}\r\n                                                anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n                                                sx={{ marginBottom: \"10%\" }}\r\n                                            >\r\n                                                <Alert onClose={handleAlertClose} severity=\"info\" sx={{ width: \"100%\" }}>\r\n                                                    <AlertTitle sx={{ fontSize: \"11px\", fontWeight: \"800\" }}>Guidelines to Q&A with Excel File:</AlertTitle>\r\n                                                    <p style={{ fontSize: \"11px\" }}>\r\n                                                        {` Mention the column name and worksheet name (if multiple columns of the same name are present \r\n                                                        in other worksheets as well) from which you want the data to be extracted.\r\n                                                         Mention the worksheet name, in addition to the question in the input.\r\n                                                         Kindly be more specific about the ask in the input.`}\r\n                                                    </p>\r\n                                                </Alert>\r\n                                            </Snackbar>\r\n                                        </>\r\n                                    ) : uploaded_files[0].endsWith(\".csv\") ? (\r\n                                        <>\r\n                                            {`The responses are being fetched from the document ${uploaded_files[0]}.`}\r\n                                            <span onClick={() => setOpenGuidlinesAlert(true)} className={styles.guidelines}>\r\n                                                Guidelines...\r\n                                            </span>\r\n                                            <Snackbar\r\n                                                open={openGuidlinesAlert}\r\n                                                // autoHideDuration={12000}\r\n                                                onClose={handleAlertClose}\r\n                                                anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n                                                sx={{ marginBottom: \"8%\" }}\r\n                                            >\r\n                                                <Alert onClose={handleAlertClose} severity=\"info\" sx={{ width: \"100%\" }}>\r\n                                                    <AlertTitle sx={{ fontSize: \"11px\", fontWeight: \"800\" }}>Guidelines to Q&A with CSV File:</AlertTitle>\r\n                                                    <p style={{ fontSize: \"11px\" }}>\r\n                                                        {` Mention the column name from which you want the data to be extracted.\r\n                                                         Kindly be more specific about the ask in the input.`}\r\n                                                    </p>\r\n                                                </Alert>\r\n                                            </Snackbar>\r\n                                        </>\r\n                                    ) : (\r\n                                        `The responses are being fetched from document ${uploaded_files[0]}.`\r\n                                    )}\r\n                                    {/* Custom Prompt */}\r\n\r\n                                    {/* Clear Document */}\r\n                                    <button className={styles.clearPrompt} onClick={deleteEmbeddingsforchat} style={{ color: isDarkTheme ? \"white\" : \"\" }}>\r\n                                        <Text>\r\n                                            <u>\r\n                                                <i>Clear Document</i>\r\n                                            </u>\r\n                                        </Text>\r\n                                    </button>\r\n                                </Text>\r\n                            </div>\r\n                        )}\r\n                        {promptTemplate == \"\" ? (\r\n                            <div></div>\r\n                        ) : (\r\n                            !isAnswerCompleted && (\r\n                                <div className={styles.customPromptMessage}>\r\n                                    <Text\r\n                                        className={styles.customPromptMessage}\r\n                                        style={{\r\n                                            color: isDarkTheme ? \"white\" : \"\",\r\n                                            fontSize: \"11px\",\r\n                                            // marginBottom: embeddingsLoaded == false ? \"0\" : \"-5px\",\r\n                                            // marginBottom: !embeddingsLoaded ? \"0\" : \"5px\",\r\n                                            // marginTop: !embeddingsLoaded ? \"0\" : \"-5px\",\r\n                                            overflow: \"hidden\"\r\n                                        }}\r\n                                    >\r\n                                        *Assistant behaviour is being modified by custom prompt.\r\n                                        <button className={styles.clearPrompt} onClick={clearPrompt}>\r\n                                            <Text>\r\n                                                <u>\r\n                                                    <i>Clear Prompt</i>\r\n                                                </u>\r\n                                            </Text>\r\n                                        </button>\r\n                                    </Text>\r\n                                </div>\r\n                            )\r\n                        )}\r\n                        <QuestionInput\r\n                            fileuploadelement={fileuploadelement()}\r\n                            clearchat={clearChat}\r\n                            isLoading={isLoading}\r\n                            lastQuestionRef={lastQuestionRef}\r\n                            clearOnSend\r\n                            placeholder=\"Ask me a question...\"\r\n                            disabled={isAnswerCompleted}\r\n                            onSend={question => makeApiRequest(question)}\r\n                            value={contentValue}\r\n                            isContent={isContent}\r\n                        />\r\n                        <Snackbar\r\n                            open={openDocClearAlertforchat}\r\n                            autoHideDuration={12000}\r\n                            onClose={handleAlertClose}\r\n                            anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                        >\r\n                            <Alert onClose={handleAlertClose} severity=\"info\" sx={{ width: \"100%\" }}>\r\n                                *The responses are not being fetched from the document.\r\n                            </Alert>\r\n                        </Snackbar>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useState ,useEffect} from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport { createHashRouter, RouterProvider } from \"react-router-dom\";\r\nimport { HashRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { initializeIcons } from \"@fluentui/react\";\r\nimport \"./index.css\";\r\nimport Layout from \"./pages/layout/Layout\";\r\nimport Chat from \"./pages/AIchat/Chat\";\r\nimport { ThemeProvider } from \"./ThemeContext\";\r\nimport { app } from '@microsoft/teams-js';\r\ninitializeIcons();\r\nconst App: React.FC = () => {\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n    const [promptTemplate, setPromptTemplate] = useState<string>(\"\");\r\n    useEffect(() => {\r\n      app.initialize();\r\n    }, []); \r\n    return (\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Navigate to=\"/sid\" />} />\r\n          <Route path=\"/sid\" element={<Chat isSideBarOpen={isSidebarOpen} promptTemplate={promptTemplate} setPromptTemplate={setPromptTemplate} />} />\r\n        </Routes>\r\n      </Router>\r\n    );\r\n}\r\nReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement).render(<App />);\r\nexport default App;\r\n"],"names":["accessApi","response","parsedResponse","chatApi","options","url","_a","_b","_c","_d","_e","_f","_g","_h","_i","_j","_k","uploadApi","formData","file","index","Approaches","parseAnswerToHtml","answer","followupQuestions","parsedAnswer","match","content","regex","matches","codeSnippet","logo","AnswerIcon","jsx","japaneseFontFamily","Answer","onFollowupQuestionClicked","showFollowupQuestions","isAnswerCompleted","regenerateResponse","regenerateQuestion","useMemo","DOMPurify","handleExportTXT","txtBlob","saveAs","handleExportPDF","doc","jsPDF","margin","topMargin","bottomMargin","cursorY","remainingText","lineHeight","availableHeight","fontSize","fontBytes","res","base64String","data","byte","addNewPage","line","preprocessHTML","html","handleExportDOCX","processedHtml","tempElement","paragraphs","node","Paragraph","TextRun","element","textRuns","childNode","childElement","Document","blob","Packer","showOptions","setShowOptions","useState","pdftooltipId","useId","wordtooltipID","texttooltipID","hostStyles","initializeIcons","wordIcon","pdfIcon","txtIcon","jsxs","Stack","styles","Fragment","ActionButton","TooltipHost","IconButton","Markdown","rehypeRaw","rehypeHighlight","x","i","AnswerLoading","animatedStyles","useSpring","animated","AnswerError","error","onRetry","ErrorCircle24Regular","PrimaryButton","resetImage","ClearChatButton","className","disabled","onClick","Tooltip","QuestionInput","onSend","placeholder","clearOnSend","lastQuestionRef","clearchat","fileuploadelement","question","setQuestion","selectedMessage","setSelectedMessage","useEffect","sendQuestion","resetFunction","onEnterPress","ev","onQuestionChange","_ev","newValue","sendQuestionDisabled","resetDisabled","TextField","Send28Filled","selectedMessageAtom","atom","UserChatMessage","message","useRecoilState","handleButtonClick","UploadDocumentButton","IoMdAttach","FileUploadModal","open","fileNames","isEmbeddingsLoading","embeddingsLoaded","openAlert","openWarning","infoAlert","openDocClearAlert","handleCloseModal","handleSubmitFile","handleFileUpload","handleAlertClose","deleteEmbeddings","openSnackbar","snackbarMessage","handleSnackbarClose","Modal","Box","Typography","Button","Dismiss24Regular","Dropzone","getRootProps","getInputProps","AiOutlineFile","name","ArrowUpload24Regular","CheckmarkCircle24Filled","Divider","DeleteDismiss24Filled","Backdrop","theme","CircularProgress","Snackbar","Alert","Chat","isSideBarOpen","promptTemplate","setPromptTemplate","shouldStream","setShouldStream","isScreenSmall","setIsScreenSmall","useSuggestFollowupQuestions","setUseSuggestFollowupQuestions","useRef","chatMessageStreamEnd","isLoading","setIsLoading","setAnswerCompletion","setError","useBoolean","activeCitation","setActiveCitation","activeAnalysisPanelTab","setActiveAnalysisPanelTab","modelApproach","answers","setAnswers","sliderValue","setSliderValue","fileUploadPanelOpen","setFileUploadPanelOpen","setFileNames","files","setFiles","setIsEmbeddingsLoading","setEmbeddingsLoaded","setOpenAlert","setOpenDocClearAlert","openDocClearAlertforchat","setOpenDocClearAlertforchat","setWarning","stopGenerating","setStopGenerating","isDarkTheme","uploaded_files","setuploaded_files","openGuidlinesAlert","setOpenGuidlinesAlert","openFileUploadPanel","closeFileUploadPanel","event","uploadedFileNames","prevFileNames","setSnackbarMessage","setOpenSnackbar","setInfoAlert","uploadedFiles","allowedExtensions","prevFiles","clearPrompt","clearChat","embeddingInit","clearEmbeddings","deleteEmbeddingsforchat","text","stopGeneratingAnswer","makeApiRequest","request","a","askResponse","readNDJSONStream","latestResponse","setContentValue","setContent","e","reason","hasAccess","setHasAccess","makeAccessApiRequest","handleClick","selectedButton","setSelectedButton","buttonName","contentValue","isContent","handleResize","q","DefaultButton","FaStop","Text","AlertTitle","App","isSidebarOpen","setIsSidebarOpen","app","Router","Routes","Route","Navigate","ReactDOM"],"mappings":"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"}